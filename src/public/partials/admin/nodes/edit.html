<div class="row-fluid">
    <span ng-show="loadNode">
        <img src="/img/js/loading.gif" title="{{'CORE.LOADING' | translate}}">
        <span translate="CORE.LOADING"></span>
    </span>

    <span ng-show="!loadNode && !node" translate="CORE.NODES.LOADING_FAILED"></span>

    <div id="nodeEditContent" ng-show="!loadNode && node">
        <div class="row-fluid text-left cssBoxCenter">
            <button ng-click="modalDelete();" ng-disabled="!node" class="btn" title="{{'CORE.LABELS.DELETE' | translate}}">
                <i class="icon-trash"></i>
                <span translate="CORE.LABELS.DELETE"></span>
            </button>
        </div>

        <div class="row-fluid cssBoxCenter">
            <div class="span10">
                <div class="row-fluid">
                    <div class="cssUserImage span2">
                        <img class="img-polaroid" ng-src="/img/{{selected.image || 'dummy_node_200.png'}}"
                             name="avatar" alt="{{'CORE.LABELS.DELETE' | translate}}">
                    </div>

                    <div class="span9 offset1">
                        <div maze-dl-wrapper dt-class="span3" dd-class="span9 cssBigItem" class="row-fluid">
                            {{node.name}}
                        </div>

                        <div maze-dl-wrapper label="{{'CORE.LABELS.IP_ADDRESS' | translate}}" dt-class="span3" dd-class="span9">
                            {{node.ipAddress}}
                        </div>

                        <div maze-dl-wrapper label="{{'CORE.NODES.NODE_TYPE' | translate}}" dt-class="span3" dd-class="span4 cssEditable">
                            <a href="" editable-select="node.nodetype" e-ng-options="type.value as type.name for type in nodetypes"
                               e-ng-change="changeNodeType($data);" oncancel="changeNodeType();" onbeforesave="updateProperty('nodetype', $data);">
                                {{selected.name || 'CORE.NODES.ASSIGN_NODETYPE' | translate}}
                            </a>
                        </div>
                    </div>
                </div>

                <div class="row-fluid cssAdditionalFields" id="additionalFieldsContent">
                    <div maze-additional fields="node.additionalFields" update="updateAdditional($data)"></div>
                </div>
            </div>
        </div>

        <div class="row-fluid cssBoxCenter">
            <tabset>
                <tab heading="{{'CORE.LABELS.SERVICES' | translate}} ({{countObject(node.services) || 0}})">
                    <div ng-include="'/partials/admin/nodes/tabs/services.html'"></div>
                </tab>
                <tab heading="{{'CORE.LABELS.CLIENTS' | translate}} ({{(clients).length || 0}})">
                    <div ng-include="'/partials/admin/nodes/tabs/clients.html'"></div>
                </tab>
                <tab heading="{{'CORE.LABELS.DOMAINS' | translate}} ({{(domains).length || 0}})">
                    <div ng-include="'/partials/admin/nodes/tabs/domains.html'"></div>
                </tab>
                <tab heading="{{'CORE.LABELS.LOGS' | translate}}">
                    <div ng-include="'/partials/admin/nodes/tabs/logs.html'"></div>
                </tab>
            </tabset>
        </div>

    </div>
</div>

