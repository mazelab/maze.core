<div class="row-fluid">
    <span ng-show="loadNode">
        <img src="/img/js/loading.gif" title="Loading...">
        Loading...
    </span>

    <span ng-show="!loadNode && !node">
        Failed to load node
    </span>

    <div id="nodeEditContent" ng-show="!loadNode && node">
        <div class="row-fluid text-left cssBoxCenter">
            <button ng-click="modalDelete();" ng-disabled="!node" class="btn" title="delete node">
                <i class="icon-trash"></i>
               delete
            </button>
        </div>

        <div class="row-fluid cssBoxCenter">
            <div class="span10">
                <div class="row-fluid">
                    <div class="cssUserImage span2">
                        <img class="img-polaroid" name="avatar" ng-src="/img/{{selected.image || 'dummy_node_200.png'}}" alt="Avatar">
                    </div>

                    <div class="span9 offset1">
                        <maze-dl-wrapper dt-class="span3" dd-class="span9 cssBigItem" class="row-fluid">
                            {{node.name}}
                        </maze-dl-wrapper>

                        <maze-dl-wrapper label="Ip address" dt-class="span3" dd-class="span9">
                            {{node.ipAddress}}
                        </maze-dl-wrapper>

                        <maze-dl-wrapper label="Node Type" dt-class="span3" dd-class="span4 cssEditable">
                            <a href="" editable-select="node.nodetype" e-ng-options="type.value as type.name for type in nodetypes"
                               e-ng-change="changeNodeType($data);" oncancel="changeNodeType();" onbeforesave="updateProperty('nodetype', $data);">
                                {{selected.name || "Assign a server type"}}
                            </a>
                        </maze-dl-wrapper>
                    </div>
                </div>

                <div class="row-fluid cssAdditionalFields" id="additionalFieldsContent">
                    <maze-additional fields="node.additionalFields" update="updateAdditional($data)"></maze-additional>
                </div>
            </div>
        </div>

        <div class="row-fluid cssBoxCenter">
            <tabset>
                <tab heading="Services ({{countObject(node.services) || 0}})">
                    <div ng-include="'/partials/admin/nodes/tabs/services.html'"></div>
                </tab>
                <tab heading="Clients ({{(clients).length || 0}})">
                    <div ng-include="'/partials/admin/nodes/tabs/clients.html'"></div>
                </tab>
                <tab heading="Domains ({{(domains).length || 0}})">
                    <div ng-include="'/partials/admin/nodes/tabs/domains.html'"></div>
                </tab>
                <tab heading="Logs">
                    <div ng-include="'/partials/admin/nodes/tabs/logs.html'"></div>
                </tab>
            </tabset>
        </div>

    </div>
</div>

